<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<head profile="http://gmpg.org/xfn/11">

  <!-- Meta & Title -->
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <meta name="author" content="Sam Livingston-Gray" />
  <title>HALP! // Think Like (a) Git</title>

  <!-- CSS -->
  <link type="text/css" rel="stylesheet" href="/think-like-a-git-dot-net-pt-br/assets/css/style.css" media="screen" />
  <link type="text/css" rel="stylesheet" href="/think-like-a-git-dot-net-pt-br/assets/css/customizations.css" media="screen" />

  <!-- (why was this here?) -->
  <!-- Hooks -->
  <!-- <link rel="index" title="Vectors" href="#" /> -->

  <!-- Javascript -->
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
  <script type="text/javascript" src="/think-like-a-git-dot-net-pt-br/assets/js/jquery.tools.min.js"></script>
  <script type="text/javascript" src="/think-like-a-git-dot-net-pt-br/assets/js/superfish.js"></script>
  <script type="text/javascript" src="/think-like-a-git-dot-net-pt-br/assets/js/jquery.tipTip.min.js"></script>
  <script type="text/javascript" src="/think-like-a-git-dot-net-pt-br/assets/js/custom.js"></script>

  <!-- Google Analytics -->
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-27154496-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

</head>

<body>
  <div id="header">
    <div class="wrapper">

      <!-- Static Logo  -->
      <h1 class="title"><a href="/think-like-a-git-dot-net-pt-br">Think Like (a) Git</a></h1>
      <h3 class="subtitle">A Guide for the Perplexed</h3>

    </div><!-- #wrapper -->
  </div><!-- #header -->

  <div id="nav-top">
    <div class="wrapper">

      <!-- Top Navigation Menu -->
      <ul class="menu-nav-top">
        <li><a href='/think-like-a-git-dot-net-pt-br'>Home</a></li>
        <li><a href="/think-like-a-git-dot-net-pt-br/tldr.html">TL;DR</a></li>
        <!-- <li><a>Read In...</a> -->
        <!--   <ul> -->
        <!--     <li><a href="/think-like-a-git-dot-net-pt-br//sections/about&amp;#45;this&amp;#45;site.html">AD/HD mode</a></li> -->
        <!--     <li><a href="/think-like-a-git-dot-net-pt-br//epic.html">EPIC MODE</a></li> -->
        <!--   </ul> -->
        <!-- </li> -->
        <li><a href="/think-like-a-git-dot-net-pt-br//resources.html">Resources</a></li>
        <li><a href="/think-like-a-git-dot-net-pt-br//halp.html">HALP!</a></li>
        <li><a href="/think-like-a-git-dot-net-pt-br//changelog.html">Changelog</a></li>
        <!-- <li></li> -->
      </ul>

      <!-- Top Social Links -->
      <ul class="social-links">
        <li><a href="mailto:geeksam@gmail.com" title="Email" class="w-tooltip"><img src="/think-like-a-git-dot-net-pt-br/assets/images/icon_email.png" alt="Email" /></a></li>
        <li><a href="http://twitter.com/geeksam" title="Twitter" class="w-tooltip"><img src="/think-like-a-git-dot-net-pt-br/assets/images/icon_twitter.png" alt="Twitter" /></a></li>
      </ul>

    </div><!-- #wrapper -->
  </div><!-- #nav-top -->

  <div class="wrapper">
    <div id="content" class="grid12 last">

      <div class="post page-content">
        <div class="entry-content">
          <!-- Primary content -->
          <div class="two_third">
            

<h1>HALP!</h1>

<p>Se você acabou de perder algum trabalho no Git e você está tentando recuperar seus commits perdidos, esta página é para você. Talvez você tenha tentado um rebase, ou se perdeu numa porção de conflitos de merge, e o Git não fez o que você achou que ira fazer, e agora você não consegue ver o commit que contém suas últimas horas de trabalho.</p>

<h2>Não Entre em Pânico.</h2>

<p>Provavelmente você não fez nada exótico. Seu commit provavelmente ainda está lá no disco e você somente não consegue vê-lo.</p>

<h2>Descubra onde você está neste momento</h2>

<p><strong>Eu vou assumir que você está num branch.</strong> Você pode confirmar isso digitando<code class="inline">git status</code> no seu repositório. A primeira linha deve dizer "On branch master" (ou "On branch branch-muito-importante" ou seja lá qual for o nome do branch em que você está). <strong>Se não, por favor faça um backup do seu diretório antes de continuar e tente conseguir ajuda de algum especialista</strong>! Eu não tenho como cobrir todas as possibilidades num documento como este e detestaria piorar a sua situação neste momento.</p>

<p>Se a segunda linha <strong>não</strong> diz "nothing to commit (working directory clean)", você tem alterações que ainda não foram salvas. Você pode ser capaz de salvá-las usando 'git stash', ou você pode copiar alguns arquivos para outro diretório se for muito paranóico. Ou talvez você nem ligue...</p>

<p><strong>Se você estava no meio de um rebase e alguma coisa esquisita aconteceu,</strong> talvez você possa digitar <code class="inline">git rebase --abort</code> e voltar para uma situação anterior ao problema. Primeiro, porém, tente navegar no seu histórico do console; o Git imprime uma mensagem dizendo o que você deve fazer toda vez que ele para durante um rebase.</p>

<p><strong>Se você tentou um merge e ficou preso resolvendo conflitos de merge horrorosos,</strong> <code class="inline">git status</code> pode incluir uma mensagem como "Unmerged paths:" seguida por uma lista de arquivos. Se você só quer desfazer o merge, você provavelmente pode usar <code class="inline">git reset</code> para fazer isso. Se você <em>realmente</em> tem certeza de que não precisa das alterações atuais (ou seja, você começou o merge a partir de um estado de trabalho limpo), <code class="inline">git reset --hard</code> pode ser o que você quer.</p>

<p><strong>Se você fez um merge e parece que deu certo, mas agora quer desfazê-lo,</strong> simplesmente use <code class="inline">git reset --hard</code> para apontar o seu branch de volta para o commit em que ele estava logo antes de você fazer o merge. (Você deve poder ver isso na saída do <code class="inline">git log</code> ou seu visalizador, mas se não conseguir, continue lendo.)</p>

<h2>Procurando seu commit perdido</h2>

<p>Em qualquer branch que você esteja, essa é a boa notícia: o Git guarda todo commit para o qual aquele branch tenha apontado em qualquer momento. Ele faz isso no que é chamado de 'reflog' <em>(uma abreviação de "reference log", ou histórico de referências)</em> para seu branch, que fica no seguinte arquivo texto: <strong>[repository-root]/.git/logs/refs/heads/[branch-name]</strong>. O reflog para o branch <strong>master</strong> está em <strong>.git/logs/refs/heads/master</strong>, e o reflog para  <strong>branch-muito-importante</strong> está em <strong>.git/logs/refs/heads/branch-muito-importante</strong>, e assim por diante.</p>

<p>Então... Respire fundo, va até a raiz do seu repositório na linha de comando, e digite isso: <code class="inline">cat .git/logs/refs/heads/master</code></p>

<p>Você deve ver uma porção de linhas no formato:</p>

<p>[SHA1 antigo] [SHA1 novo] [Autor] [Data/hora] [Mensagem de commit]</p>

<p>As linhas mais novas estão no final. A partir daqui, você deve ser capaz de achar a linha contendo a mensagem de commit para o commit que você quer tanto recuperar. A segunda coluna nessa linha é o SHA1 que você quer. <strong>Selecione esse sem vergonha e copie para sua área de transferência.</strong></p>

<h2>Pegando seu trabalho de volta</h2>

<p>Isso vai ser um pouco decepcionante, mas é isso que você fará:</p>

<code>
  git checkout deadbeef # onde 'deadbeef' é o SHA1 que você acabou de encontrar e copiar git branch eu_quero_o_codigo_de_volta
</code>

<p>Se você está usando um visualizador como GitX ou gitk, volte para ele e atualize a visualização. (Você pode precisar forçá-lo a mostrar todos os branches locais). Ou, faça <code class="inline">git log --pretty=oneline --abbrev-commit --branches=* --graph --decorate</code> se você é raiz. Seu commit deve estar visível de novo, com um branch 'eu_quero_o_codigo_de_volta' ao lado dele.</p>

<h2>Wrapping up</h2>

<p>I hope this has been helpful.  Either way, please drop me a line via email or Twitter and let me know if there are ways I can improve this guide.</p>

<p>Once your heart rate slows down a bit, you may want to take a look around this site.  The whole thing shouldn't take more than an hour to read through, but if you're in a hurry, check out the <a href="/think-like-a-git-dot-net-pt-br//tldr.html">TL;DR</a> page.</p>

<p>Elsewhere on the Internets, check out <a href="http://programblings.com/2008/06/07/the-illustrated-guide-to-recovering-lost-commits-with-git/">The Illustrated Guide to Recovering Lost Commits With Git</a> when you have half an hour to work through the examples.</p>

<p>

Happy hacking!
<br />-Sam

</p>


          </div>

          <!-- Sidebar with site map -->
          <div class="one_third last">
            <ul>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/about-this-site.html">About This Site</a></li>
<ul>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/about-this-site/who-this-site-is-for.html">Who This Site Is For</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/about-this-site/what-this-site-will-try-to-teach-you.html">What This Site Will Try to Teach You</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/about-this-site/why-this-site.html">Why This Site?</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/about-this-site/about-the-author.html">About the Author</a></li>
</ul>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/git-makes-more-sense-when-you-understand-x.html">Git Makes More Sense When You Understand X</a></li>
<ul>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/git-makes-more-sense-when-you-understand-x/example-1-kent-beck.html">Example 1: Kent Beck</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/git-makes-more-sense-when-you-understand-x/example-2-git-for-ages-4-and-up.html">Example 2: Git for Ages 4 and Up</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/git-makes-more-sense-when-you-understand-x/example-3-homeomorphic-endofunctors.html">Example 3: Homeomorphic Endofunctors</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/git-makes-more-sense-when-you-understand-x/example-4-lsd-and-chainsaws.html">Example 4: LSD and Chainsaws</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/git-makes-more-sense-when-you-understand-x/the-internet-talks-back.html">The Internet Talks Back!</a></li>
</ul>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/graph-theory.html">Graph Theory</a></li>
<ul>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/graph-theory/seven-bridges-of-konigsberg.html">Seven Bridges of Königsberg</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/graph-theory/places-to-go-and-ways-to-get-there.html">Places To Go, and Ways to Get There</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/graph-theory/nodes-and-edges.html">Nodes and Edges</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/graph-theory/attaching-labels-to-nodes.html">Attaching Labels to Nodes</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/graph-theory/attaching-labels-to-edges.html">Attaching Labels to Edges</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/graph-theory/directed-versus-undirected-graphs.html">Directed Versus Undirected Graphs</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/graph-theory/reachability.html">Reachability</a></li>
</ul>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/graphs-and-git.html">Graphs and Git</a></li>
<ul>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/graphs-and-git/visualizing-your-git-repository.html">Visualizing Your Git Repository</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/graphs-and-git/references.html">References</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/graphs-and-git/the-reference-reference.html">The Reference Reference</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/graphs-and-git/making-sense-of-the-display.html">Making Sense of the Display</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/graphs-and-git/garbage-collection.html">Garbage Collection</a></li>
</ul>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/experimenting-with-git.html">Experimenting With Git</a></li>
<ul>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/experimenting-with-git/references-make-commits-reachable.html">References Make Commits Reachable</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/experimenting-with-git/my-humble-beginnings.html">My Humble Beginnings</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/experimenting-with-git/branches-as-savepoints.html">Branches as Savepoints</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/experimenting-with-git/use-your-targeting-computer-luke.html">Use Your Targeting Computer, Luke</a></li>
</ul>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/testing-out-merges.html">Testing Out Merges</a></li>
<ul>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/testing-out-merges/the-scout-pattern.html">The Scout Pattern</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/testing-out-merges/the-savepoint-pattern.html">The Savepoint Pattern</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/testing-out-merges/black-belt-merging.html">Black Belt Merging</a></li>
</ul>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/rebase-from-the-ground-up.html">Rebase From the Ground Up</a></li>
<ul>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/rebase-from-the-ground-up/cherry-picking-explained.html">Cherry-Picking Explained</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/rebase-from-the-ground-up/using-git-cherry-pick-to-simulate-git-rebase.html">Using 'git cherry-pick' to Simulate 'git rebase'</a></li>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/rebase-from-the-ground-up/a-helpful-mnemonic-for-git-rebase-arguments.html">A Helpful Mnemonic for 'git rebase' Arguments</a></li>
</ul>
<li><a href="/think-like-a-git-dot-net-pt-br/sections/the-end.html">The End</a></li>
</ul>
          </div>
        </div>
      </div>
    </div><!-- #content -->

    <div class="clear"></div>
  </div><!-- wrapper -->


  <div id="footer" class="container">
    <div class="wrapper">

      <!-- Footer Copyright -->
      <p>
        <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="/think-like-a-git-dot-net-pt-br/assets/images2/cc-license-80x15.png" /></a><br />
        <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Think Like (a) Git</span> copyright &copy; 2011-2017 <a xmlns:cc="http://creativecommons.org/ns#" href="http://think-like-a-git.net" property="cc:attributionName" rel="cc:attributionURL">Sam Livingston-Gray</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.
      </p>
      <p><br />Original template &copy; 2011 <span>&middot;</span> Vectors Community Theme <span>&middot;</span> All Rights Reserved</p>
      <div class="clear"></div>

    </div><!-- wrapper -->
  </div><!-- footer -->


</body>

</html>
